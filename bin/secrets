#!/usr/bin/env bash

# Uses the MacOS keychain CLI to store / retrieve secret stuff (passwords)

cmd="$1"
shift

case "$cmd" in
"get")
  name="$1"
  shift
  security find-generic-password -w -a $LOGNAME -s "$name"
  ;;
"set")
  name="$1"
  shift
  read -s -p "Password: " password
  security add-generic-password -a $LOGNAME -s "$name" -w "$password"
  ;;
esac

